<!DOCTYPE html>

<html>
    <head>
        <meta charset="utf-8" />
        <link href="css/style.css" rel="stylesheet">
        <link href="css/animate.css" rel="stylesheet">
        
        <script type="text/javascript" src="json/akuma.js"></script>
        <script type="text/javascript" src="json/alisa.js"></script>
        <script type="text/javascript" src="json/anna.js"></script>
        <script type="text/javascript" src="json/armor_king.js"></script>
        <script type="text/javascript" src="json/asuka.js"></script>
        <script type="text/javascript" src="json/bob.js"></script>
        <script type="text/javascript" src="json/bryan.js"></script>
        <script type="text/javascript" src="json/claudio.js"></script>
        <script type="text/javascript" src="json/devil_jin.js"></script>
        <script type="text/javascript" src="json/dragunov.js"></script>
        <script type="text/javascript" src="json/eddy.js"></script>
        <script type="text/javascript" src="json/eliza.js"></script>
        <script type="text/javascript" src="json/feng.js"></script>
        <script type="text/javascript" src="json/geese.js"></script>
        <script type="text/javascript" src="json/gigas.js"></script>
        <script type="text/javascript" src="json/heihachi.js"></script>
        <script type="text/javascript" src="json/hwoarang.js"></script>
        <script type="text/javascript" src="json/jack7.js"></script>
        <script type="text/javascript" src="json/jin.js"></script>
        <script type="text/javascript" src="json/josie.js"></script>
        <script type="text/javascript" src="json/julia.js"></script>
        <script type="text/javascript" src="json/katarina.js"></script>
        <script type="text/javascript" src="json/kazumi.js"></script>
        <script type="text/javascript" src="json/kazuya.js"></script>
        <script type="text/javascript" src="json/king.js"></script>
        <script type="text/javascript" src="json/kuma.js"></script>
        <script type="text/javascript" src="json/lars.js"></script>
        <script type="text/javascript" src="json/law.js"></script>
        <script type="text/javascript" src="json/lee.js"></script>
        <script type="text/javascript" src="json/lei.js"></script>
        <script type="text/javascript" src="json/leo.js"></script>
        <script type="text/javascript" src="json/lili.js"></script>
        <script type="text/javascript" src="json/lucky_chloe.js"></script>
        <script type="text/javascript" src="json/marduk.js"></script>
        <script type="text/javascript" src="json/master_raven.js"></script>
        <script type="text/javascript" src="json/miguel.js"></script>
        <script type="text/javascript" src="json/negan.js"></script>
        <script type="text/javascript" src="json/nina.js"></script>
        <script type="text/javascript" src="json/noctis.js"></script>
        <script type="text/javascript" src="json/panda.js"></script>
        <script type="text/javascript" src="json/paul.js"></script>
        <script type="text/javascript" src="json/shaheen.js"></script>
        <script type="text/javascript" src="json/steve.js"></script>
        <script type="text/javascript" src="json/xiaoyu.js"></script>
        <script type="text/javascript" src="json/yoshimitsu.js"></script>
        <script type="text/javascript" src="js/frames.js"></script>

        <script type="text/javascript" src="js/script.js"></script>

        <script src="cordova.js"></script>
        <script src="cordova_plugins.js"></script>

        <script src="bootstrap/js/jquery.js"></script>
        <script src="bootstrap/js/bootstrap.min.js"></script>
        <link href="bootstrap/css/bootstrap.css" rel="stylesheet">
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"> 
        <title>t7framecoaching</title>
    </head>

    <body class="gamebody" onload="init();">
        <script>
            function afficherContainer(str){
                affichage = true;
                $('#containerPanneauResult').removeClass('fadeOutLeft');
                $('#panneauResult span').text(str);
                toggleDisplay('containerPanneauResult');
            }
            function effacerContainer(){
                $('#containerPanneauResult').addClass('fadeOutLeft');
                setTimeout(function(){
                    $('#panneauResult span').text('');
                    toggleDisplay('containerPanneauResult');
                    affichage = false;
                },300);
            }
            function training_answer(answer_id){
                if(affichage == true){
                    return false;
                }
                if(frame[answer_id][element]==answers[good_answer].move[element]){
                    panneau_result("Good Answer");
                }else{
                    panneau_result('The answer was "'+answers[good_answer].move[ element ]+'"');
                }
            }
            function panneau_result(str){
                afficherContainer(str);
                setTimeout(function () {
                    effacerContainer();
                    shuffle();
                }, 3000);
            }
            function shuffle(){
                answers = [];
                for(var x=0;x<max_answer;x++){
                    var input = getRandomInt(frame.length);
                    answers.push({'id':input,'move':frame[input]});
                }
                good_answer = getRandomInt(answers.length);
                element = elements[getRandomInt(elements.length)];

                var str='';
                for(var x=0;x<answers.length;x++){
                    var answer = answers[x];
                    var id = answer.id;
                    var block_frame = answer.move[ element ];
                    str += "<div class='col-sm-6 btn btn-block btngame' onclick='training_answer("+id+")' id='btn_"+id+"'>"+block_frame+"</div>";
                }
                $('#controller').html(str);
                str='';
                str+="<img id='gif' class='img-responsive' src='http://bloper97.fr/r/t7framecoaching/api/img/"+character+"/move_"+answers[good_answer].id+".gif'/>";
                str+="<div class='col-sm-12 inputLayer'>"+answers[good_answer].move[ 'Command' ]+"</div><br>";
                str+="<div class='col-sm-12 inputLayer'>"+element+"</div><br>";
                $('#question').html(str);
            }
            var elements = ['Block frame','Counter hit frame', 'Hit frame', 'Start up frame'];
            var character_id = parseInt($_GET('character'));
            var character = characters[character_id];
            var frame = frames[character_id];
            var max_answer = 4;
            var answers = [];
            var good_answer;
            var element;
            var affichage = false;

        </script>
        <div class="app">
            <div class="container">
                <div class="col-sm-12">
                    <script>
                        document.write("<p class='character_title tekkenfont'>"+character+"</p>");
                    </script>
                </div>
                
                <div id="gamescreen">
                    <div id="question"></div>
                </div>
                <div id="containerPanneauResult" class="animated fadeInRight fadeOutLeft" style="display:none">
                    <p id="panneauResult">
                        <span></span>
                    </p>
                </div>
                <div id="controller" class="container"></div>
            </div>
        </div>
        <script>
            shuffle();
        </script>
    </body>
</html>